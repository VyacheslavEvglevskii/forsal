<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<link rel="manifest" href="manifest.json">
<link rel="icon" href="icon-192.png" type="image/png">
<meta name="theme-color" content="#34d399">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="PackControl">
<link rel="apple-touch-icon" href="icon-512.png">
  <!-- üì∑ –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è QR-–∫–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –∫–∞–º–µ—Ä—É -->
  <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
  <!-- üì± –ú–æ–¥—É–ª—å —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ä–∞–Ω–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ onclick) -->
  <script src="js/scanner.js?v=2" defer></script>
  <title>üì¶ –£—á—ë—Ç —É–ø–∞–∫–æ–≤–∫–∏</title>
  <style>
  /* ===== –û—Å–Ω–æ–≤—ã ===== */
body {
  margin: 0;
  padding: 72px 12px 12px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  background-color: #f1f5f9;
}

.table-scroll {
  overflow-x: auto;
  width: 100%;
}
@media (max-width: 600px) {
  #ratesTable table, .table-scroll table {
    font-size: 12px;
    min-width: 600px;
  }
  #ratesTable th, #ratesTable td {
    padding: 6px 8px;
  }
  
  /* === –ú–û–ë–ò–õ–¨–ù–ê–Ø –ê–î–ê–ü–¢–ê–¶–ò–Ø –ê–ù–ê–õ–ò–ó–ê –ù–û–†–ú–ê–¢–ò–í–û–í === */
  #normativesAnalysisContainer {
    margin-top: 10px !important;
  }
  
  /* –§–∏–ª—å—Ç—Ä—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  #normativesAnalysisContainer .filters-mobile {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  
  #normativesAnalysisContainer .filters-row {
    display: flex;
    gap: 8px;
  }
  
  #normativesAnalysisContainer .filters-row > div {
    flex: 1;
  }
  
  /* –¢–∞–±–ª–∏—Ü–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö - –∫–∞—Ä—Ç–æ—á–∫–∏ */
  .normatives-mobile-cards {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  
  .normative-card {
    background: white;
    border: 2px solid #e5e7eb;
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  
  .normative-card.overstated {
    border-color: #f97316;
    background: linear-gradient(135deg, #fff7ed 0%, #fed7aa 100%);
  }
  
  .normative-card.understated {
    border-color: #10b981;
    background: linear-gradient(135deg, #ecfdf5 0%, #a7f3d0 100%);
  }
  
  .normative-card-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 12px;
  }
  
  .normative-card-title {
    font-size: 16px;
    font-weight: 600;
    color: #1f2937;
    line-height: 1.2;
    flex: 1;
  }
  
  .normative-card-status {
    font-size: 20px;
    margin-left: 8px;
  }
  
  .normative-card-details {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-bottom: 16px;
  }
  
  .normative-detail {
    text-align: center;
    padding: 8px;
    background: rgba(255,255,255,0.7);
    border-radius: 8px;
  }
  
  .normative-detail-value {
    font-size: 16px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 2px;
  }
  
  .normative-detail-label {
    font-size: 11px;
    color: #6b7280;
  }
  
  .normative-card-action {
    width: 100%;
    background: #f59e0b;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    cursor: pointer;
  }
  
  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  #editNormModal .modal-content {
    margin: 20px !important;
    max-height: calc(100vh - 40px) !important;
    max-width: calc(100vw - 40px) !important;
  }
  
  #editNormModal .info-grid-mobile {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
    margin-bottom: 20px;
  }
  
  #editNormModal .info-item-mobile {
    background: #f8fafc;
    padding: 12px;
    border-radius: 8px;
    text-align: center;
  }
  
  #editNormModal .info-value-mobile {
    font-size: 16px;
    font-weight: 700;
    color: #1f2937;
    margin-bottom: 4px;
  }
  
  #editNormModal .info-label-mobile {
    font-size: 11px;
    color: #6b7280;
  }
  
  /* –°–∫—Ä—ã–≤–∞–µ–º –æ–±—ã—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  @media (max-width: 768px) {
    .normatives-desktop-table {
      display: none !important;
    }
    
    .normatives-mobile-cards {
      display: flex !important;
    }
  }
  
  /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ */
  @media (min-width: 769px) {
    .normatives-desktop-table {
      display: block !important;
    }
    
    .normatives-mobile-cards {
      display: none !important;
    }
    
    .filters-mobile {
      display: none !important;
    }
    
    .filters-desktop {
      display: block !important;
    }
  }
  
  /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–±–∏–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
  @media (max-width: 768px) {
    .filters-mobile {
      display: flex !important;
    }
    
    .filters-desktop {
      display: none !important;
    }
  }
}

h2 {
  font-size: 22px;
  font-weight: 600;
  color: #000000;
  margin-bottom: 20px;
  text-align: center;
}

.container {
  background-color: #ffffff;
  border-radius: 16px;
  padding: 20px;
  margin: 24px auto;
  max-width: 600px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}



label {
  display: block;
  font-weight: 600;
  color: #000000;
  margin-top: 16px;
  margin-bottom: 6px;
  font-size: 15px;
}

p {
  color: #000000;
}

span {
  color: #000000;
}

div {
  color: #000000;
}

input, select, textarea {
  width: 100%;
  padding: 12px;
  font-size: 15px;
  border: 1px solid #d1d5db;
  border-radius: 10px;
  background: #f9fafb;
  color: #000000;
  margin-bottom: 16px;
  box-sizing: border-box;
  transition: border 0.2s ease, box-shadow 0.2s ease;
}

input:focus, select:focus, textarea:focus {
  border-color: #2563eb;
  background-color: #ffffff;
  outline: none;
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.2);
}

button {
  background-color: #2563eb;
  color: white;
  padding: 16px 18px;
  font-size: 15px;
  font-weight: 600;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  width: 100%;
  margin-top: 12px;
  min-height: 48px;
  touch-action: manipulation;
  transition: background 0.2s ease, transform 0.1s ease;
}

/* –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫ - –æ—Å—Ç–∞–≤–ª—è–µ–º –±–µ–ª—ã–π —Ç–µ–∫—Å—Ç */
button {
  color: white !important;
}

/* –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º */
div[style*="background: linear-gradient"] {
  color: white !important;
}

/* –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å —Ü–≤–µ—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤) */
div[style*="background: #"] {
  color: white !important;
}

/* –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —Å —Ü–≤–µ—Ç–Ω—ã–º —Ñ–æ–Ω–æ–º */
button[style*="background:"] {
  color: white !important;
}

button:hover {
  background-color: #1d4ed8;
}

button:active {
  transform: scale(0.97);
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö */
@keyframes pulseButton {
  0% {
    box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7);
  }
  70% {
    box-shadow: 0 0 0 8px rgba(37, 99, 235, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(37, 99, 235, 0);
  }
}

.save-button-pulse {
  animation: pulseButton 2s infinite;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥–∞ */
#loginBtn {
  transition: all 0.3s ease;
  position: relative;
}

#loginBtn:hover {
  background-color: #1d4ed8;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
}

#loginBtn:active {
  transform: translateY(0);
}

/* –°—Ç–∏–ª—å –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ */
#loginBtn.loading {
  background-color: #6b7280 !important;
  cursor: not-allowed !important;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∫—ç—à–µ */
@keyframes slideIn {
  0% {
    transform: translateX(100%);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

button.danger {
  background-color: #dc2626;
}

button.danger:hover {
  background-color: #b91c1c;
}

.top-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  display: flex;
  justify-content: center;
  background-color: #2563eb;
  padding: 10px 0;
  border-bottom-left-radius: 12px;
  border-bottom-right-radius: 12px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}

.top-nav button {
  background: none;
  border: none;
  color: white;
  font-size: 20px;
  cursor: pointer;
  text-align: center;
  transition: all 0.3s ease;
  padding: 12px 16px;
  min-height: 48px;
  touch-action: manipulation;
}

/* –°—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä—ã—Ç—ã—Ö –∫–Ω–æ–ø–æ–∫ –≤ –∞–¥–º–∏–Ω-—Ä–µ–∂–∏–º–µ */
.top-nav button.admin-hidden,
.top-nav button[style*="display: none"],
.top-nav button[style*="display:none"] {
  display: none !important;
}

.top-nav button.admin-visible {
  display: inline-flex !important;
}

.mobile-nav button:active {
  transform: scale(0.94);
}

.mobile-nav button.active {
  background: #1e40af;
  color: white;
}

.stat-card {
  background-color: #ffffff;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  padding: 16px;
  margin-top: 16px;
  font-size: 15px;
  color: #1f2937;
}

.stat-card p {
  margin: 6px 0;
}

.stat-card button {
  margin-top: 12px;
  padding: 12px 16px;
  font-size: 16px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  background-color: #2563eb;
  color: white;
  min-height: 48px;
  touch-action: manipulation;
}

.stat-card button:hover {
  background-color: #1d4ed8;
}

#rateInfo, #calcBlock {
  margin-top: 16px;
  padding: 16px;
  border-radius: 12px;
  background-color: #f3f4f6;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
  font-size: 15px;
  color: #1f2937;
}

#rateInfo p, #calcBlock p {
  margin: 8px 0;
  display: flex;
  justify-content: space-between;
  font-weight: 500;
}

#rateInfo strong, #calcBlock strong {
  color: #111827;
}

#totalWage {
  font-size: 16px;
  margin-top: 16px;
  background: #ecfdf5;
  padding: 12px;
  border-radius: 10px;
  text-align: center;
  color: #065f46;
  font-weight: 600;
  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);
}

#editModal {
  max-width: 480px;
  background-color: white;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  padding: 24px;
  font-size: 15px;
  color: #1f2937;
}

#editModal label {
  display: block;
  margin-top: 12px;
  font-weight: 500;
}

#editModal select, #editModal input {
  width: 100%;
  padding: 8px;
  margin-top: 4px;
  border-radius: 8px;
  border: 1px solid #d1d5db;
  font-size: 15px;
}

#editModal button {
  margin-top: 16px;
  padding: 10px 16px;
  border: none;
  border-radius: 10px;
  background-color: #2563eb;
  color: white;
  font-weight: 600;
  cursor: pointer;
}

#editModal button:hover {
  background-color: #1d4ed8;
}

#editModal button.danger {
  background-color: #dc2626;
  margin-left: 12px;
}

#editModal button.danger:hover {
  background-color: #b91c1c;
}

.tooltip[data-tooltip]:hover::after {
  content: attr(data-tooltip);
  position: absolute;
  background-color: #1f2937;
  color: white;
  padding: 6px 10px;
  border-radius: 6px;
  font-size: 13px;
  white-space: nowrap;
  top: 100%;
  left: 0;
  margin-top: 6px;
  z-index: 10;
}

#ratesTable {
  width: 100%;
  border-collapse: collapse;
  margin-top: 16px;
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

#ratesTable th, #ratesTable td {
  padding: 12px 14px;
  text-align: left;
  font-size: 16px; /* –£–≤–µ–ª–∏—á–∏–ª–∏ —Å 14px –¥–æ 16px */
  border-bottom: 1px solid #e5e7eb;
}

#ratesTable th {
  background-color: #f3f4f6;
  color: #374151;
  font-weight: 600;
  position: sticky;
  top: 0;
  z-index: 10;
  cursor: pointer;
  transition: background-color 0.2s;
}

#ratesTable th:hover {
  background-color: #e5e7eb;
}

/* –¶–≤–µ—Ç–æ–≤–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ —Ç–∞—Ä–∏—Ñ–æ–≤ */
#ratesTable th:nth-child(4), #ratesTable td:nth-child(4) {
  background-color: rgba(59, 130, 246, 0.05); /* –ì–æ–ª—É–±–æ–π –¥–ª—è —Å–¥–µ–ª—å–Ω–æ–π */
  border-left: 3px solid #3b82f6;
}

#ratesTable th:nth-child(5), #ratesTable td:nth-child(5) {
  background-color: rgba(34, 197, 94, 0.05); /* –ó–µ–ª–µ–Ω—ã–π –¥–ª—è FBS */
  border-left: 3px solid #22c55e;
}

#ratesTable th:nth-child(6), #ratesTable td:nth-child(6) {
  background-color: rgba(147, 51, 234, 0.05); /* –§–∏–æ–ª–µ—Ç–æ–≤—ã–π –¥–ª—è –æ–∫–ª–∞–¥+—Å–¥–µ–ª */
  border-left: 3px solid #9333ea;
}

#ratesTable th:nth-child(7), #ratesTable td:nth-child(7) {
  background-color: rgba(147, 51, 234, 0.08); /* –¢–µ–º–Ω–µ–µ –¥–ª—è FBS –æ–∫–ª–∞–¥+—Å–¥–µ–ª */
  border-left: 3px solid #7c3aed;
}

/* –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π */
#ratesTable td:nth-child(4), #ratesTable td:nth-child(5), 
#ratesTable td:nth-child(6), #ratesTable td:nth-child(7) {
  font-weight: 600;
  color: #1f2937;
}

#ratesTable tr:nth-child(even) td {
  background-color: rgba(249, 250, 251, 0.5);
}

#ratesTable tr:hover td {
  background-color: rgba(238, 242, 255, 0.8);
  transform: scale(1.01);
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
}

/* –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã */
#ratesTable th.sortable::after {
  content: ' ‚ÜïÔ∏è';
  opacity: 0.5;
  font-size: 12px;
}

#ratesTable th.sorted-asc::after {
  content: ' ‚¨ÜÔ∏è';
  opacity: 1;
}

#ratesTable th.sorted-desc::after {
  content: ' ‚¨áÔ∏è';
  opacity: 1;
}

#adminContainer {
  background: white;
  border-radius: 16px;
  padding: 20px;
  margin-top: 20px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
}

#adminContainer h3 {
  font-size: 18px;
  margin-bottom: 12px;
  color: #000000;
  font-weight: 600;
}

#adminContainer input[type="text"],
#adminContainer select {
  width: 100%;
  padding: 10px;
  margin-top: 6px;
  border-radius: 10px;
  border: 1px solid #d1d5db;
  font-size: 15px;
  background: #f9fafb;
}

#adminContainer button {
  margin-top: 12px;
}

@media (max-width: 500px) {
  .container, #editModal {
    padding: 16px;
    border-radius: 12px;
  }

  #ratesTable th, #ratesTable td {
    padding: 10px 12px;
  }

  button {
    font-size: 14px;
    padding: 12px;
  }

  h2 {
    font-size: 20px;
  }

  #adminContainer label {
    flex: 1 1 100%;
  }

  #adminContainer input[type="date"] {
    font-size: 16px;
  }

  .form-item label,
  input,
  select {
    font-size: 14px;
    padding: 6px;
  }
}

/* ===== –°–¢–ò–õ–ò –î–õ–Ø –°–ò–°–¢–ï–ú–´ –ó–ê–©–ò–¢–´ –û–¢ –î–£–ë–õ–ò–ö–ê–¢–û–í ===== */
.duplicate-warnings {
  margin: 16px 0;
  border-radius: 12px;
  overflow: hidden;
  display: none;
}

.warning-section {
  margin-bottom: 12px;
  border-radius: 8px;
  padding: 12px;
}

.warning-section.critical {
  background: #fef2f2;
  border-left: 4px solid #dc2626;
}

.warning-section.warning {
  background: #fffbeb;
  border-left: 4px solid #f59e0b;
}

.warning-section.info {
  background: #eff6ff;
  border-left: 4px solid #3b82f6;
}

.warning-section h4 {
  margin: 0 0 8px 0;
  font-size: 14px;
  font-weight: 600;
}

.warning-section.critical h4 {
  color: #dc2626;
}

.warning-section.warning h4 {
  color: #d97706;
}

.warning-section.info h4 {
  color: #2563eb;
}

.warning-item {
  padding: 8px;
  margin: 6px 0;
  border-radius: 6px;
  font-size: 13px;
}

.warning-item.critical {
  background: #fecaca;
  color: #7f1d1d;
}

.warning-item.warning {
  background: #fed7aa;
  color: #92400e;
}

.warning-item.info {
  background: #bfdbfe;
  color: #1e40af;
}

.warning-item small {
  color: rgba(0, 0, 0, 0.6);
  font-size: 11px;
  display: block;
  margin-top: 4px;
}

.form-validation-hint {
  position: relative;
}

.form-validation-hint::after {
  content: '';
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  border-radius: 50%;
  display: none;
}

.form-validation-hint.valid::after {
  background: #10b981;
  display: block;
}

.form-validation-hint.warning::after {
  background: #f59e0b;
  display: block;
}

.form-validation-hint.error::after {
  background: #ef4444;
  display: block;
}

.smart-suggestion {
  background: #f0f9ff;
  border: 1px solid #0ea5e9;
  border-radius: 8px;
  padding: 12px;
  margin: 8px 0;
  font-size: 13px;
}

.smart-suggestion h5 {
  margin: 0 0 6px 0;
  color: #0369a1;
  font-weight: 600;
}

.smart-suggestion button {
  background: #0ea5e9;
  color: white;
  border: none;
  padding: 4px 8px;
  border-radius: 4px;
  font-size: 11px;
  cursor: pointer;
  margin-top: 6px;
}

/* ===== –°–¢–ò–õ–ò –î–õ–Ø –°–û–û–ë–©–ï–ù–ò–ô –ò –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ===== */
.success-message {
  background: #d1fae5;
  color: #065f46;
  border: 1px solid #a7f3d0;
  padding: 12px;
  border-radius: 8px;
  margin: 12px 0;
}

.error-message {
  background: #fef2f2;
  color: #991b1b;
  border: 1px solid #fca5a5;
  padding: 12px;
  border-radius: 8px;
  margin: 12px 0;
}

.warning-message {
  background: #fef3c7;
  color: #92400e;
  border: 1px solid #fcd34d;
  padding: 12px;
  border-radius: 8px;
  margin: 12px 0;
}

/* –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ */
#dataForm button[type="submit"] {
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
}

#dataForm button[type="submit"]:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  transform: scale(0.98);
}

#dataForm button[type="submit"]:not(:disabled):hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏ */
#dataForm button[type="submit"].loading::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 16px;
  height: 16px;
  margin: -8px 0 0 -8px;
  border: 2px solid transparent;
  border-top: 2px solid #ffffff;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes slideOutRight {
  from {
    transform: translateX(0);
    opacity: 1;
  }
  to {
    transform: translateX(100%);
    opacity: 0;
  }
}

/* –£–ª—É—á—à–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —Ñ–æ—Ä–º—ã */
.form-disabled {
  pointer-events: none;
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.form-disabled::after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.1);
  z-index: 1000;
}

#appContainer.fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: white;
  z-index: 1000;
  overflow-y: auto;
  padding: 20px;
}

#saveBar {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  padding: 12px;
  box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.08);
  z-index: 1100;
}

#saveBar button {
  width: 100%;
  font-size: 16px;
}

.form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 12px;
}

.form-item {
  flex: 1 1 200px;
  min-width: 140px;
}

.form-item label {
  display: block;
  font-size: 16px;
  margin-bottom: 6px;
}

@media (max-width: 600px) {
  body {
    padding: 48px 2px 2px;
    font-size: 15px;
  }
  .container, .block, #editModal, #adminContainer, #mySalaryContainer, #ratesContainer, #profileContainer {
    padding: 6px 2px;
    border-radius: 8px;
    max-width: 100vw;
    box-shadow: 0 1px 4px rgba(0,0,0,0.06);
    margin: 6px 0;
  }
  h2, .block-title {
    font-size: 17px;
    margin-bottom: 10px;
  }
  label, .item-label {
    font-size: 13px;
    margin-bottom: 2px;
  }
  input, select, textarea {
    font-size: 16px;
    min-height: 44px;
    padding: 12px 8px;
    border-radius: 8px;
    -webkit-appearance: none;
    appearance: none;
  }
  button, .button {
    font-size: 14px;
    min-height: 44px;
    border-radius: 8px;
    padding: 12px 8px;
    touch-action: manipulation;
  }
  .form-row, .block, .list {
    margin-bottom: 6px;
  }
  .table-scroll {
    overflow-x: auto;
    max-width: 100vw;
  }
  table {
    min-width: 480px;
    font-size: 12px;
  }
  th, td {
    white-space: nowrap;
    padding: 8px 10px;
    min-height: 44px;
    vertical-align: middle;
  }
  
  /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –¥–ª—è –±–ª–æ–∫–∞ —Ç–∞—Ä–∏—Ñ–æ–≤ */
  #ratesContainer {
    padding: 8px 4px;
  }
  
  #ratesFilters {
    flex-direction: column !important;
    gap: 8px !important;
  }
  
  #ratesFilters > div {
    min-width: auto !important;
  }
  
  #ratesSearch {
    font-size: 16px !important; /* –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∑—É–º –Ω–∞ iOS */
  }
  
  #ratesTable {
    font-size: 12px;
  }
  
  #ratesTable th, #ratesTable td {
    padding: 12px 8px;
    font-size: 14px;
    min-height: 44px;
    vertical-align: middle;
  }
  
  /* –°–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω–µ–µ –≤–∞–∂–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  #ratesTable th:nth-child(6), #ratesTable td:nth-child(6),
  #ratesTable th:nth-child(7), #ratesTable td:nth-child(7) {
    display: none;
  }
  
  /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∫—Ä—ã—Ç—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ */
  #ratesTable::after {
    content: "üí° –ü–æ–≤–µ—Ä–Ω–∏—Ç–µ —ç–∫—Ä–∞–Ω –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Ç–∞—Ä–∏—Ñ–æ–≤";
    display: block;
    text-align: center;
    padding: 12px;
    background: #fef3c7;
    color: #92400e;
    border-radius: 8px;
    margin-top: 8px;
    font-size: 12px;
    }

  /* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –ø–æ–∏—Å–∫ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  #ratesContainer > div:first-of-type {
    padding: 12px 8px !important;
  }
  
  /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .modal-content {
    margin: 10px !important;
    max-width: calc(100vw - 20px) !important;
    max-height: calc(100vh - 20px) !important;
    overflow-y: auto;
  }
  
  /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
  .table-scroll {
    -webkit-overflow-scrolling: touch;
  }
  
  /* –ö–Ω–æ–ø–∫–∏ –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö */
  .modal-content button {
    min-height: 48px !important;
    font-size: 16px !important;
    padding: 12px !important;
    touch-action: manipulation;
  }
  
  /* –ú–æ–±–∏–ª—å–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å—Ç–∞—Ä—à–µ–≥–æ —Å–º–µ–Ω—ã - –ø—Ä–æ—Å—Ç–∞—è –∏ —á–∏—Ç–∞–µ–º–∞—è */
  #reportContainer .senior-shift-form {
    padding: 12px !important;
    margin: 8px !important;
    border-radius: 12px !important;
    background: #ffffff !important;
    border: 1px solid #e5e7eb !important;
  }
  
  #reportContainer .senior-shift-form h3 {
    font-size: 18px !important;
    margin-bottom: 16px !important;
    color: #22c55e !important;
    text-align: center !important;
  }
  
  #reportContainer .senior-shift-form .form-row {
    flex-direction: column !important;
    gap: 8px !important;
    margin-bottom: 16px !important;
  }
  
  #reportContainer .senior-shift-form .form-row > div {
    min-width: auto !important;
    width: 100% !important;
  }
  
  #reportContainer .senior-shift-form select,
  #reportContainer .senior-shift-form input[type="date"] {
    min-height: 50px !important;
    font-size: 16px !important;
    padding: 14px 16px !important;
    border: 2px solid #e5e7eb !important;
    border-radius: 8px !important;
    background: #ffffff !important;
  }
  
  #reportContainer .senior-shift-form label {
    font-size: 14px !important;
    margin-bottom: 6px !important;
    font-weight: 600 !important;
    color: #374151 !important;
  }
  
  /* –ü—Ä–æ—Å—Ç—ã–µ –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Å–º–µ–Ω—ã */
  #reportContainer .senior-shift-form .shift-buttons {
    display: flex !important;
    gap: 8px !important;
    margin-top: 8px !important;
  }
  
  #reportContainer .senior-shift-form .shift-button {
    flex: 1 !important;
    min-height: 50px !important;
    padding: 12px 8px !important;
    font-size: 16px !important;
    font-weight: 600 !important;
    border: 2px solid #e5e7eb !important;
    border-radius: 8px !important;
    background: #ffffff !important;
    color: #6b7280 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
  }
  
  #reportContainer .senior-shift-form .shift-button.active {
    border-color: #22c55e !important;
    background: #22c55e !important;
    color: #ffffff !important;
    box-shadow: 0 2px 4px rgba(34, 197, 94, 0.2) !important;
    transform: scale(0.98) !important;
  }
  
  #reportContainer .senior-shift-form .shift-button:active {
    transform: scale(0.95) !important;
  }
  
  #reportContainer .senior-shift-form .button-group {
    gap: 8px !important;
    margin-top: 20px !important;
  }
  
  #reportContainer .senior-shift-form .button-group button {
    padding: 14px 20px !important;
    font-size: 16px !important;
    min-height: 50px !important;
    border-radius: 8px !important;
    font-weight: 600 !important;
  }
  
  #reportContainer .senior-shift-form .info-text {
    font-size: 12px !important;
    margin: 12px 0 !important;
    padding: 8px !important;
    line-height: 1.4 !important;
    color: #6b7280 !important;
    text-align: center !important;
  }
}

/* ===== –ê–î–ú–ò–ù –ù–ê–°–¢–†–û–ô–ö–ò ===== */
.admin-settings-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-bottom: 20px;
}

.settings-category {
  background: white;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.settings-category h4 {
  margin: 0 0 16px 0;
  font-size: 16px;
  font-weight: 600;
  color: #374151;
  border-bottom: 2px solid #f3f4f6;
  padding-bottom: 8px;
}

.setting-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 0;
  border-bottom: 1px solid #f3f4f6;
}

.setting-item:last-child {
  border-bottom: none;
}

.setting-info {
  flex: 1;
  margin-right: 16px;
}

.setting-title {
  font-weight: 500;
  color: #374151;
  margin-bottom: 4px;
}

.setting-description {
  font-size: 13px;
  color: #6b7280;
  line-height: 1.4;
}

/* ===== –¢–£–ú–ë–õ–ï–† ===== */
.toggle-switch {
  position: relative;
  width: 48px;
  height: 24px;
  background-color: #d1d5db;
  border-radius: 12px;
  cursor: pointer;
  transition: background-color 0.3s ease;
  border: none;
  outline: none;
}

.toggle-switch.active {
  background-color: #10b981;
}

.toggle-switch::before {
  content: '';
  position: absolute;
  top: 2px;
  left: 2px;
  width: 20px;
  height: 20px;
  background-color: white;
  border-radius: 50%;
  transition: transform 0.3s ease;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.toggle-switch.active::before {
  transform: translateX(24px);
}

.toggle-switch:hover {
  opacity: 0.8;
}

.toggle-switch:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
@media (max-width: 768px) {
  .admin-settings-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
  
  .setting-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
  
  .setting-info {
    margin-right: 0;
  }
  
  .toggle-switch {
    align-self: flex-end;
  }
}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è */
#confirmModal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 10000;
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

#confirmModal .modal-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: white;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  max-width: 400px;
  width: 90%;
  animation: slideIn 0.3s ease;
}

@keyframes slideIn {
  from { 
    opacity: 0;
    transform: translate(-50%, -60%);
  }
  to { 
    opacity: 1;
    transform: translate(-50%, -50%);
  }
}

#confirmModal .modal-header {
  font-size: 20px;
  font-weight: 600;
  color: #1f2937;
  margin-bottom: 12px;
  display: flex;
  align-items: center;
  gap: 8px;
}

#confirmModal .modal-body {
  color: #4b5563;
  font-size: 15px;
  line-height: 1.5;
  margin-bottom: 20px;
}

#confirmModal .modal-summary {
  background: #f3f4f6;
  padding: 12px;
  border-radius: 8px;
  margin-top: 12px;
  font-size: 14px;
}

#confirmModal .modal-summary div {
  display: flex;
  justify-content: space-between;
  margin: 4px 0;
}

#confirmModal .modal-summary .label {
  color: #6b7280;
}

#confirmModal .modal-summary .value {
  color: #1f2937;
  font-weight: 500;
}

#confirmModal .modal-buttons {
  display: flex;
  gap: 12px;
  justify-content: flex-end;
}

#confirmModal button {
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

#confirmModal .btn-cancel {
  background: #e5e7eb;
  color: #374151;
}

#confirmModal .btn-cancel:hover {
  background: #d1d5db;
}

#confirmModal .btn-confirm {
  background: #3b82f6;
  color: white;
}

#confirmModal .btn-confirm:hover {
  background: #2563eb;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
}

  </style>
</head>
<body>
<!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω Forsal -->
<div id="loadingScreen" style="
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: #f1f5f9;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
">
  <img src="forsal-loading-final.png" alt="–ó–∞–≥—Ä—É–∑–∫–∞ Forsal" style="
    width: 100%;
    max-width: 480px;
    height: auto;
    object-fit: contain;
    padding: 20px;
  ">
</div>
  <nav id="bottomNav" class="top-nav" style="display: none;">
    <button id="tabProfile" onclick="switchTab('profile')">üë§</button>
    <button id="tabApp" onclick="switchTab('app')" disabled>üìã</button>
    <button id="tabStats" onclick="switchTab('stats')">üìà</button>
    <button id="tabCostAnalysis" onclick="switchTab('costAnalysis')" class="admin-hidden">üìä</button>
    <button id="tabTraineeManagement" onclick="switchTab('traineeManagement')" class="admin-hidden">üë®‚Äçüéì</button>
    <button id="tabRates" onclick="switchTab('rates')">üí∞</button>
    <button id="tabMySalary" onclick="switchTab('mySalary')">üíµ</button>
    <button id="tabDuplicates" onclick="switchTab('duplicates')" class="admin-hidden">üîç</button>
    <button id="tabAdmin" onclick="switchTab('admin')" class="admin-hidden">üõ†Ô∏è</button>
  </nav>
<div class="container" id="loginContainer">
  <h2>üîê –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h2>
  <label for="login">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
  <input type="text" id="login" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è" required>

  <label for="password">–ü–∞—Ä–æ–ª—å</label>
  <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>

  <button id="loginBtn" onclick="handleLogin()">–í–æ–π—Ç–∏</button>
  <div id="loginError"></div>
</div>
<div class="container" style="display:none;" id="tabContainer">
</div>
<div class="container" style="display:none;" id="appContainer">
  <style>
    .form-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .form-item {
      flex: 1 1 200px;
    }
    /* –£–¥–∞–ª–µ–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ column –¥–ª—è –º–æ–±–∏–ª–æ–∫ */

    /* –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –≤ —É—á—ë—Ç–µ —É–ø–∞–∫–æ–≤–∫–∏, –Ω–µ –º–µ–Ω—è—è –ª–æ–≥–∏–∫—É */
    #appContainer .tooltip[data-tooltip]::after {
      display: none !important;
    }
    #appContainer #rateInfo,
    #appContainer #calcBlock {
      display: none !important;
    }
  </style>

  <h2 id="mainTitle">üì¶ –£—á—ë—Ç —É–ø–∞–∫–æ–≤–∫–∏</h2>
  <form id="dataForm" style="padding-bottom: 100px;">
    <div class="tooltip" data-tooltip="–ü–æ–ª–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –≤—Ö–æ–¥–µ">
      <label>–ò–º—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
        <input name="employeeName" required readonly />
      </label>
    </div>

    <div class="form-row">
      <div class="form-item">
        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:
          <input name="quantity" type="number" required />
        </label>
      </div>
      <div class="form-item">
        <label>–ù–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞:
          <input name="orderNumber" required />
        </label>
      </div>
    </div>

    <div class="form-row">
      <div class="form-item">
        <label>–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:
          <input name="startTime" type="time" required />
        </label>
      </div>
      <div class="form-item">
        <label>–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è:
          <input name="endTime" type="time" required />
        </label>
      </div>
    </div>

    <label>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
      <input name="duration" readonly />
    </label>

    <div class="form-row" id="operationSetWrapper">
  <div class="form-item">
    <label>–û–ø–µ—Ä–∞—Ü–∏—è:
      <select name="operationType" id="operationSelect" required></select>
    </label>
  </div>
  <div class="form-item" id="setNumberField" style="display:none;">
    <label>–ê—Ä—Ç–∏–∫—É–ª –Ω–∞–±–æ—Ä–∞:
      <select name="setNumber"></select>
    </label>
  </div>
</div>

<div id="volumeLabel">
  <label>–û–±—ä—ë–º:
    <select name="volume" id="volumeSelect" required></select>
  </label>
</div>

    <div id="rateInfo" style="margin-top:16px; background:#f0f0f0; padding:10px; border-radius:8px; display:none;">
      <p><strong>‚è± –ù–æ—Ä–º–∞ –≤ —á–∞—Å:</strong> <span id="normDisplay">-</span></p>
      <p><strong>üí∞ –¢–∞—Ä–∏—Ñ –∑–∞ 1 —à—Ç:</strong> <span id="rateDisplay">-</span></p>
    </div>

    <div id="calcBlock" style="margin-top:16px; background:#e7f5ff; padding:10px; border-radius:8px; display:none;">
      <p><strong>üí∏ –†–∞—Å—á—ë—Ç –æ–ø–ª–∞—Ç—ã:</strong> <span id="wageDisplay">-</span></p>
      <p><strong>‚öôÔ∏è –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</strong> <span id="efficiencyDisplay">-</span></p>

    </div>

    <button type="submit">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  </form>
  <p id="result" style="display:none;"></p>
</div>
<div class="container" style="display:none;" id="statsContainer">
  <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
<button id="closeStatsBtn" onclick="closeStats()" style="margin-bottom: 10px;">‚ùå –ó–∞–∫—Ä—ã—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
  <label>–í—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É:<input type="date" id="statsDate"></label>
  <div style="margin-top: 12px;">
  <label>–§–∏–ª—å—Ç—Ä –ø–æ –æ–ø–µ—Ä–∞—Ü–∏–∏:
    <select id="operationFilter">
      <option value="">-- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ --</option>
    </select>
  </label>
  <button id="showStatsBtn" onclick="loadStats()">üìä –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
</div>
<div id="totalWage" style="text-align:center; font-weight:bold; margin-top:16px; background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding:16px; border-radius:12px; border:2px solid #0ea5e9; box-shadow: 0 4px 12px rgba(14, 165, 233, 0.2); font-size: 14px; line-height: 1.6; color: #000000 !important;"></div>
  <div id="statsCards"></div>
<div id="statsLogs" style="margin-top: 16px;"></div>
</div>
<div class="container" style="display:none;" id="profileContainer">
  <h2>üë§ –õ–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å</h2>
  <label>–¢–∏–ø —Å–º–µ–Ω—ã:
    <select id="shiftType">
      <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Å–º–µ–Ω—É --</option>
      <option>–î–µ–Ω—å</option>
      <option>–ù–æ—á—å</option>
    </select>
  </label>

  <!-- üåô –ë–õ–û–ö –î–õ–Ø –ù–û–ß–ù–´–• –°–ú–ï–ù -->
  <div id="nightShiftDateBlock" style="display:none;">
    <label>üìÖ –î–∞—Ç–∞ —Ç–µ–∫—É—â–µ–π –Ω–æ—á–Ω–æ–π —Å–º–µ–Ω—ã:
      <input type="date" id="nightShiftDate" style="font-size: 16px;" />
    </label>
    <small style="color:#6b7280; font-size:12px; margin-top:4px; display:block;">
      ‚ÑπÔ∏è –£–∫–∞–∂–∏—Ç–µ –¥–∞—Ç—É, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –≤–∞—à–∞ –Ω–æ—á–Ω–∞—è —Å–º–µ–Ω–∞ (–æ–±—ã—á–Ω–æ –≤—á–µ—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å)
    </small>
    <div style="margin-top: 8px; display: flex; gap: 8px;">
      <button type="button" id="setYesterday" style="padding: 6px 12px; font-size: 12px; background: #3b82f6; color: white; border: none; border-radius: 6px; cursor: pointer;">üìÖ –í—á–µ—Ä–∞</button>
      <button type="button" id="setToday" style="padding: 6px 12px; font-size: 12px; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer;">üìÖ –°–µ–≥–æ–¥–Ω—è</button>
    </div>
  </div>

  <label>–°—Ç–∞—Ç—É—Å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
    <select id="employeeStatus" required onchange="handleStatusChange()">
      <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
      <option value="–®—Ç–∞—Ç">üë§ –®—Ç–∞—Ç</option>
      <option value="–ê—É—Ç—Å–æ—Ä—Å–∏–Ω–≥">ü§ù –ê—É—Ç—Å–æ—Ä—Å–∏–Ω–≥</option>
      <option value="–°—Ç–∞–∂–µ—Ä">üë®‚Äçüéì –°—Ç–∞–∂–µ—Ä</option>
    </select>
  </label>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- üì¶ –ü–ï–†–ï–ö–õ–Æ–ß–ê–¢–ï–õ–¨ –°–ü–û–°–û–ë–ê –£–ß–Å–¢–ê –í–´–†–ê–ë–û–¢–ö–ò -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="workModeSelector" style="margin: 20px 0; padding: 16px; background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%); border-radius: 12px; border: 1px solid #e2e8f0;">
    <div style="font-weight: 600; color: #374151; margin-bottom: 12px; font-size: 15px;">
      üì¶ –°–ø–æ—Å–æ–± —É—á—ë—Ç–∞ –≤—ã—Ä–∞–±–æ—Ç–∫–∏:
    </div>
    <div style="display: flex; gap: 12px; flex-wrap: wrap;">
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –°–∫–∞–Ω–µ—Ä -->
      <div id="modeCardScanner" onclick="selectWorkMode('scanner')" style="
        flex: 1;
        min-width: 140px;
        padding: 16px;
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
      ">
        <div style="font-size: 28px; margin-bottom: 8px;">üì±</div>
        <div style="font-weight: 600; color: #374151; margin-bottom: 4px;">–°–∫–∞–Ω–µ—Ä</div>
        <div style="font-size: 12px; color: #6b7280;">–ê–≤—Ç–æ—É—á—ë—Ç —á–µ—Ä–µ–∑ —à—Ç—Ä–∏—Ö-–∫–æ–¥—ã</div>
      </div>
      
      <!-- –ö–∞—Ä—Ç–æ—á–∫–∞: –†—É—á–Ω–æ–π –≤–≤–æ–¥ -->
      <div id="modeCardManual" onclick="selectWorkMode('manual')" style="
        flex: 1;
        min-width: 140px;
        padding: 16px;
        background: white;
        border: 2px solid #e2e8f0;
        border-radius: 10px;
        cursor: pointer;
        text-align: center;
        transition: all 0.2s ease;
      ">
        <div style="font-size: 28px; margin-bottom: 8px;">‚úçÔ∏è</div>
        <div style="font-weight: 600; color: #374151; margin-bottom: 4px;">–†—É—á–Ω–æ–π –≤–≤–æ–¥</div>
        <div style="font-size: 12px; color: #6b7280;">–ß–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö</div>
      </div>
    </div>
    <input type="hidden" id="selectedWorkMode" value="" />
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- üì± –ë–õ–û–ö –†–ï–ñ–ò–ú–ê "–°–ö–ê–ù–ï–†" -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="scannerModeBlock" style="display: none;">
    
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏ -->
    <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 12px 16px; border-radius: 10px; margin-bottom: 16px;">
      <div style="font-weight: 600; font-size: 15px;">üì± –†–µ–∂–∏–º —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</div>
      <div style="font-size: 13px; opacity: 0.9;">–ü—Ä–∏–≤—è–∂–∏—Ç–µ—Å—å –∫ —Ä–∞–±–æ—á–µ–º—É –º–µ—Å—Ç—É –∏ —Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ —Ç–æ–≤–∞—Ä—ã</div>
    </div>

    <!-- –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–æ –Ω–∞—á–∞–ª–∞ —Å–µ—Å—Å–∏–∏) -->
    <div id="scannerSetupBlock">
      
      <!-- –°–ø–æ—Å–æ–± 1: –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR –∫–∞–º–µ—Ä–æ–π -->
      <div style="margin-bottom: 16px;">
        <button id="scanQRBtn" onclick="startQRScanner()" style="
          background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
          color: white;
          border: none;
          padding: 16px 24px;
          font-size: 16px;
          font-weight: 600;
          border-radius: 12px;
          cursor: pointer;
          width: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          box-shadow: 0 4px 14px rgba(139, 92, 246, 0.3);
          transition: transform 0.1s, box-shadow 0.2s;
        ">
          <span style="font-size: 24px;">üì∑</span>
          <span>–°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞</span>
        </button>
      </div>
      
      <!-- –û–±–ª–∞—Å—Ç—å –¥–ª—è –≤–∏–¥–µ–æ –∫–∞–º–µ—Ä—ã (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
      <div id="qrScannerContainer" style="display: none; margin-bottom: 16px;">
        <div style="background: #1f2937; border-radius: 12px; overflow: hidden; position: relative;">
          <div id="qrReader" style="width: 100%;"></div>
          <button onclick="stopQRScanner()" style="
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(239, 68, 68, 0.9);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            z-index: 10;
          ">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
        <div id="qrScannerStatus" style="text-align: center; margin-top: 8px; font-size: 13px; color: #6b7280;">
          –ù–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É –Ω–∞ QR-–∫–æ–¥ —Ä–∞–±–æ—á–µ–≥–æ –º–µ—Å—Ç–∞...
        </div>
      </div>
      
      <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
      <div style="display: flex; align-items: center; margin: 20px 0; gap: 12px;">
        <div style="flex: 1; height: 1px; background: #e5e7eb;"></div>
        <span style="color: #9ca3af; font-size: 13px; font-weight: 500;">–∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤—Ä—É—á–Ω—É—é</span>
        <div style="flex: 1; height: 1px; background: #e5e7eb;"></div>
      </div>
      
      <!-- –°–ø–æ—Å–æ–± 2: –í—ã–±–æ—Ä –∏–∑ —Å–ø–∏—Å–∫–∞ -->
      <label style="display: block; margin-bottom: 16px;">
        <span style="font-weight: 500; color: #374151;">üìç –†–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ:</span>
        <select id="scannerWorkplaceSelect" style="margin-top: 6px;">
          <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ --</option>
        </select>
      </label>
      
      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ä–∞–±–æ—á–µ–º –º–µ—Å—Ç–µ -->
      <div id="selectedWorkplaceInfo" style="display: none; background: #f0fdf4; border: 1px solid #86efac; border-radius: 10px; padding: 12px;">
        <div style="font-weight: 600; color: #166534; margin-bottom: 4px;">‚úÖ –í—ã–±—Ä–∞–Ω–æ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ:</div>
        <div id="selectedWorkplaceName" style="color: #15803d; font-size: 15px;"></div>
        <div id="selectedWorkplaceDetails" style="color: #22863a; font-size: 13px; margin-top: 4px;"></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- ‚úçÔ∏è –ë–õ–û–ö –†–ï–ñ–ò–ú–ê "–†–£–ß–ù–û–ô –í–í–û–î" (–ø–æ–∫–∞–∑–∞–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div id="manualModeBlock">

    <!-- üë®‚Äçüè´ –ë–õ–û–ö –î–õ–Ø –ù–ê–°–¢–ê–í–ù–ò–ö–û–í (—à—Ç–∞—Ç–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤) -->
    <div id="mentorBlock" style="display:none;">
      <label>üë®‚Äçüéì –ú–æ–π —Å—Ç–∞–∂–µ—Ä:
        <div style="padding: 8px; background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 4px; margin-top: 4px;">
          <span id="profileTraineeDisplay" style="color: #374151;">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</span>
          <span id="profileTraineeBonusDisplay" style="color: #6b7280; font-size: 12px; margin-left: 8px;"></span>
        </div>
        <small style="color: #6b7280; font-size: 12px; margin-top: 4px; display: block;">
          ‚ÑπÔ∏è –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–≤—è–∑–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–ª–æ–∫ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–∂–µ—Ä–∞–º–∏"
        </small>
      </label>
    </div>

    <!-- üë®‚Äçüéì –ë–õ–û–ö –î–õ–Ø –°–¢–ê–ñ–ï–†–û–í -->
    <div id="traineeBlock" style="display:none;">
      <label>üë§ –ú–æ–π –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫:
        <div style="padding: 8px; background: #f3f4f6; border: 1px solid #d1d5db; border-radius: 4px; margin-top: 4px;">
          <span id="profileMentorDisplay" style="color: #374151;">–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω</span>
        </div>
        <small style="color: #6b7280; font-size: 12px; margin-top: 4px; display: block;">
          ‚ÑπÔ∏è –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–≤—è–∑–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–ª–æ–∫ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–∂–µ—Ä–∞–º–∏"
        </small>
      </label>
    </div>

    <label>–¢–∏–ø –æ–ø–ª–∞—Ç—ã:
      <select id="profilePayType" required>
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
        <option value="–°–¥–µ–ª–∫–∞">–°–¥–µ–ª–∫–∞</option>
        <option value="–û–∫–ª–∞–¥ + —Å–¥–µ–ª–∫–∞">–û–∫–ª–∞–¥ + —Å–¥–µ–ª–∫–∞</option>
      </select>
      <div id="payTypeInfo" style="font-size: 12px; color: #6b7280; margin-top: 4px; display: none;">
        ‚ÑπÔ∏è –¢–∏–ø –æ–ø–ª–∞—Ç—ã —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω—ã–º —Ç—É–º–±–ª–µ—Ä–æ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
      </div>
    </label>
    
    <div id="salaryBlock" style="display:none;">
      <label>–û–∫–ª–∞–¥ <span style="color:red;">*</span>:
        <input id="profileSalary" type="number" readonly />
      </label>
    </div>
    
    <label>–ú–æ–¥–µ–ª—å —É–ø–∞–∫–æ–≤–∫–∏:
      <select id="profilePackingModel" name="profilePackingModel" required>
        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ --</option>
        <!-- –û–ø—Ü–∏–∏ –±—É–¥—É—Ç –ø–æ–¥–≥—Ä—É–∂–µ–Ω—ã –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ -->
      </select>
    </label>
  </div>

  <button id="saveProfileBtn" onclick="saveProfile()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  <p id="profileSaved" style="color:green; text-align:center; display:none;">‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ</p>
      <p id="profileHint" style="color:#dc2626; font-size:14px; text-align:center; margin-top:12px;">
      ‚ö†Ô∏è –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è (–≤–∫–ª—é—á–∞—è –æ–∫–ª–∞–¥ –¥–ª—è —Ç–∏–ø–∞ "–û–∫–ª–∞–¥ + —Å–¥–µ–ª–∫–∞") –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –≤–∫–ª–∞–¥–∫–∞–º —Å–∏—Å—Ç–µ–º—ã.
    </p>
    <p id="profileUnsaved" style="color:#f59e0b; font-size:14px; text-align:center; margin-top:8px; display:none;">
      üíæ –ï—Å—Ç—å –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è! –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª.
    </p>

  <button id="logoutBtn" onclick="handleLogout()" class="danger" style="margin-top: 20px;">üö™ –í—ã–π—Ç–∏</button>
</div>
<div class="container" style="display:none;" id="ratesContainer">
  <h2>üí∞ –¢–∞—Ä–∏—Ñ—ã –∏ –Ω–æ—Ä–º–∞—Ç–∏–≤—ã</h2>
  
  <!-- üîç –ü–û–ò–°–ö –ò –§–ò–õ–¨–¢–†–´ -->
  <div style="background: #f8fafc; padding: 16px; border-radius: 12px; margin: 16px 0; box-shadow: 0 1px 3px rgba(0,0,0,0.1);">
    <!-- –ñ–∏–≤–æ–π –ø–æ–∏—Å–∫ -->
    <div style="margin-bottom: 12px;">
      <label style="display: block; font-weight: 600; margin-bottom: 6px; color: #374151;">üîç –ü–æ–∏—Å–∫ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º</label>
      <input type="text" id="ratesSearch" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏..." 
             style="width: 100%; padding: 10px; font-size: 16px; border: 2px solid #e5e7eb; border-radius: 8px; transition: border-color 0.2s;">
    </div>
    
    <!-- –§–∏–ª—å—Ç—Ä—ã -->
    <div id="ratesFilters" style="display: flex; gap: 10px; flex-wrap: wrap;">
      <div style="flex: 1; min-width: 200px;">
        <label style="display: block; font-weight: 600; margin-bottom: 6px; color: #374151;">üè∑Ô∏è –û–ø–µ—Ä–∞—Ü–∏—è</label>
        <select id="filterOperation" style="width: 100%; padding: 10px; font-size: 16px; border: 2px solid #e5e7eb; border-radius: 8px;">
      <option value="">-- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ --</option>
    </select>
      </div>
      <div style="flex: 1; min-width: 200px;">
        <label style="display: block; font-weight: 600; margin-bottom: 6px; color: #374151;">üì¶ –û–±—ä—ë–º/–ê—Ä—Ç–∏–∫—É–ª</label>
        <select id="filterKey" style="width: 100%; padding: 10px; font-size: 16px; border: 2px solid #e5e7eb; border-radius: 8px;">
      <option value="">-- –í—Å–µ –æ–±—ä—ë–º—ã / –∞—Ä—Ç–∏–∫—É–ª—ã --</option>
    </select>
</div>
    </div>
    
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
    <div id="ratesCounter" style="text-align: center; margin-top: 12px; font-weight: 600; color: #6b7280;"></div>
  </div>

  <!-- üìã –°–ü–ò–°–û–ö –¢–ê–†–ò–§–û–í -->
  <div id="ratesTableContainer" style="position: relative;">
    <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="ratesLoader" style="display: none; text-align: center; padding: 40px; color: #6b7280;">
      <div style="display: inline-block; width: 20px; height: 20px; border: 3px solid #f3f4f6; border-top: 3px solid #3b82f6; border-radius: 50%; animation: spin 1s linear infinite;"></div>
      <p style="margin-top: 10px;">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞—Ä–∏—Ñ–æ–≤...</p>
    </div>
  <div id="ratesTable"></div>
  </div>
</div>
  <!-- –¢–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ JS -->
</div>
<!-- üì¶ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å -->
<div class="container" id="adminContainer" style="display:none;">
  <h2>üõ†Ô∏è –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>

<!-- üìÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥ -->
<div style="margin-bottom: 16px; display: flex; flex-wrap: wrap; gap: 10px;">
  <label style="flex:1 1 200px;">–ü–µ—Ä–∏–æ–¥ —Å:
    <input type="date" id="unifiedStart">
  </label>
  <label style="flex:1 1 200px;">–ø–æ:
    <input type="date" id="unifiedEnd">
  </label>
</div>

  <!-- üîò –î–µ–π—Å—Ç–≤–∏—è -->
<div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 16px;">
  <button onclick="loadShiftStats()">üìä –°–≤–æ–¥–∫–∞ –ø–æ —Å–º–µ–Ω–µ</button>
  <button onclick="analyzePackers()" id="analyzeBtn">üßÆ –ê–Ω–∞–ª–∏–∑ —à—Ç–∞—Ç–Ω—ã—Ö —É–ø–∞–∫–æ–≤—â–∏–∫–æ–≤</button>
  <button onclick="openUpdateAllModal()" id="updateAllBtn" style="background:#8b5cf6;">üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π</button>
  <button onclick="runCustomReport()" id="reportBtn">üìÜ –û—Ç—á—ë—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –∑–∞ –ø–µ—Ä–∏–æ–¥</button>
  <button onclick="loadSeniorsReport()" id="seniorsReportBtn" style="background:#8b5cf6;">üë®‚Äçüíº –ê–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ä—à–∏—Ö —Å–º–µ–Ω</button>
  <button onclick="showSeniorShiftForm()" id="addSeniorBtn" style="background:#22c55e;">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—à–µ–≥–æ —Å–º–µ–Ω—ã</button>
  <button onclick="openSalaryExportModal()" id="salaryExportBtn" style="background:#10b981;">üíµ –í—ã–≥—Ä—É–∑–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã HR</button>
  <button onclick="loadNormativesAnalysis()" id="normativesBtn" style="background:#f59e0b;">üîç –ê–Ω–∞–ª–∏–∑ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤</button>
  <button onclick="toggleAdminSettings()" id="adminSettingsBtn" style="background:#6366f1;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</button>
</div>


<!-- üõ†Ô∏è –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
<div id="adminSettingsContainer" style="margin-top: 20px; display: none;">
  <h3 style="text-align: center; color: #6366f1; margin-bottom: 20px;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã</h3>
  
  <div style="background: #f8fafc; padding: 20px; border-radius: 12px; margin-bottom: 20px;">
    <div id="adminSettingsContent">
      <div style="text-align: center; color: #6b7280; padding: 20px;">
        <div style="font-size: 24px; margin-bottom: 10px;">‚è≥</div>
        <div>–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫...</div>
      </div>
    </div>
    
    <div style="display: flex; gap: 10px; margin-top: 20px; justify-content: center; flex-wrap: wrap;">
      <button onclick="saveAllAdminSettings()" id="saveSettingsBtn" style="background: #10b981; display: none;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
      <button onclick="resetAdminSettings()" id="resetSettingsBtn" style="background: #f59e0b; display: none;">üîÑ –°–±—Ä–æ—Å–∏—Ç—å –∫ —É–º–æ–ª—á–∞–Ω–∏—é</button>
      <button onclick="clearStatsCache()" id="clearCacheBtn" style="background: #ef4444;">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</button>
      <button onclick="testAndShowServerStatus()" id="testConnectionBtn" style="background: #3b82f6;">üîå –¢–µ—Å—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è</button>
      <button onclick="hideAdminSettings()" style="background: #6b7280;">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>
</div>

<!-- üßæ –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤ -->
<div id="reportContainer" style="margin-top: 20px;"></div>

<!-- üîç –ë–ª–æ–∫ –∞–Ω–∞–ª–∏–∑–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤ -->
<div id="normativesAnalysisContainer" style="margin-top: 20px; display: none;">
  <h3 style="text-align: center; color: #f59e0b; margin-bottom: 20px;">üîç –ê–Ω–∞–ª–∏–∑ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–æ–≤</h3>
  
  <!-- –§–∏–ª—å—Ç—Ä—ã -->
  <div style="background: #f8fafc; padding: 16px; border-radius: 12px; margin-bottom: 20px;">
    <!-- –ü–µ—Ä–∏–æ–¥ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö -->
    <div class="filters-mobile" style="display: none;">
      <div class="filters-row">
        <div>
          <label>üìÖ –°:
            <input type="date" id="normativesStartDate" style="font-size: 16px; padding: 12px;">
          </label>
        </div>
        <div>
          <label>–ø–æ:
            <input type="date" id="normativesEndDate" style="font-size: 16px; padding: 12px;">
          </label>
        </div>
      </div>
      
      <div>
        <label>üîç –ü–æ–∏—Å–∫:
          <input type="text" id="normativesSearch" placeholder="–û–ø–µ—Ä–∞—Ü–∏—è –∏–ª–∏ –æ–±—ä–µ–º..." style="font-size: 16px; padding: 12px;">
        </label>
      </div>
      
      <div>
        <label>üìä –§–∏–ª—å—Ç—Ä:
          <select id="normativesFilter" style="font-size: 16px; padding: 12px;">
            <option value="all">–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</option>
            <option value="problematic">–¢–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ</option>
            <option value="overstated">–ó–∞–≤—ã—à–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã</option>
            <option value="understated">–ó–∞–Ω–∏–∂–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã</option>
          </select>
        </label>
      </div>
      
      <div style="display: flex; gap: 8px; flex-wrap: wrap;">
        <button onclick="runNormativesAnalysis()" id="runNormativesBtn" style="background: #f59e0b; flex: 1; padding: 14px; font-size: 16px; min-width: 120px;">üìä –ê–Ω–∞–ª–∏–∑</button>
        <button onclick="sendNormativesReportToEmail()" id="sendNormativesEmailBtn" style="display: none; background: #3b82f6; flex: 1; padding: 14px; font-size: 16px; min-width: 120px;">üìß –ù–∞ –ø–æ—á—Ç—É</button>
        <button onclick="hideNormativesAnalysis()" style="background: #6b7280; flex: 1; padding: 14px; font-size: 16px; min-width: 120px;">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
    
    <!-- –ü–µ—Ä–∏–æ–¥ –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ -->
    <div class="filters-desktop">
      <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 16px;">
        <div style="flex: 1; min-width: 200px;">
          <label>üìÖ –ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞ —Å:
            <input type="date" id="normativesStartDateDesktop">
          </label>
        </div>
        <div style="flex: 1; min-width: 200px;">
          <label>–ø–æ:
            <input type="date" id="normativesEndDateDesktop">
          </label>
        </div>
      </div>
      
      <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 16px;">
        <div style="flex: 1; min-width: 200px;">
          <label>üîç –ü–æ–∏—Å–∫ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º:
            <input type="text" id="normativesSearchDesktop" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏...">
          </label>
        </div>
        <div style="flex: 1; min-width: 200px;">
          <label>üìä –¢–∏–ø –ø—Ä–æ–±–ª–µ–º:
            <select id="normativesFilterDesktop">
              <option value="all">–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</option>
              <option value="problematic">–¢–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ</option>
              <option value="overstated">–ó–∞–≤—ã—à–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã</option>
              <option value="understated">–ó–∞–Ω–∏–∂–µ–Ω–Ω—ã–µ –Ω–æ—Ä–º—ã</option>
            </select>
          </label>
        </div>
      </div>
      
      <div style="text-align: center;">
        <button onclick="runNormativesAnalysis()" id="runNormativesBtnDesktop" style="background: #f59e0b; margin-right: 10px;">üìä –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∞–ª–∏–∑</button>
        <button onclick="sendNormativesReportToEmail()" id="sendNormativesEmailBtnDesktop" style="display: none; background: #3b82f6; margin-right: 10px;">üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—á—Ç—É</button>
        <button onclick="hideNormativesAnalysis()" style="background: #6b7280;">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
      </div>
    </div>
  </div>
  
  <!-- –°—á–µ—Ç—á–∏–∫–∏ -->
  <div id="normativesSummary" style="display: none; background: #f0f9ff; padding: 16px; border-radius: 12px; margin-bottom: 20px; text-align: center;">
    <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
      <div><strong>üìä –í—Å–µ–≥–æ –æ–ø–µ—Ä–∞—Ü–∏–π:</strong> <span id="totalNormatives">0</span></div>
      <div><strong>‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–Ω—ã—Ö:</strong> <span id="problematicNormatives">0</span></div>
      <div><strong>üî¥ –ó–∞–≤—ã—à–µ–Ω–Ω—ã—Ö:</strong> <span id="overstatedNormatives">0</span></div>
      <div><strong>üü¢ –ó–∞–Ω–∏–∂–µ–Ω–Ω—ã—Ö:</strong> <span id="understatedNormatives">0</span></div>
    </div>
  </div>
  
  <!-- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
  <div id="normativesResults"></div>
  
  <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
  <div id="normativesLoader" style="display: none; text-align: center; padding: 40px;">
    <div style="font-size: 24px;">‚è≥</div>
    <div style="margin-top: 10px;">–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ—Ä–º–∞—Ç–∏–≤—ã...</div>
  </div>
</div>


<!-- üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ -->
<div id="shiftStatsOutput" style="margin-top:20px;"></div>
<div id="packerAnalysis" style="margin-top:24px;"></div>

  <!-- üö™ –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ -->
  <div style="margin-top: 40px; text-align: center; border-top: 1px solid #e5e7eb; padding-top: 20px;">
    <button onclick="handleLogout()" class="danger" style="background-color: #dc2626; width: auto; padding: 12px 24px;">üö™ –í—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã</button>
  </div>
</div>

<!-- üîç –î—É–±–ª–∏–∫–∞—Ç—ã ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏ -->
<div class="container" style="display:none;" id="duplicatesContainer">
  <h2>üîç –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–∞–º–∏</h2>
  <button onclick="switchTab('admin')" style="margin-bottom: 10px; background:#6b7280;">‚Üê –ù–∞–∑–∞–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
  
  <!-- –û–ø–∏—Å–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ -->
  <div style="background: #f0f9ff; padding: 16px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #0ea5e9;">
    <h3 style="margin: 0 0 12px 0; color: #0c4a6e;">‚ÑπÔ∏è –û —Å–∏—Å—Ç–µ–º–µ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏</h3>
    <p style="margin: 0; color: #0c4a6e; font-size: 14px;">
      –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. 
      –î—É–±–ª–∏–∫–∞—Ç—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ª—è–º: —Å–æ—Ç—Ä—É–¥–Ω–∏–∫, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, –≤—Ä–µ–º—è, –æ–ø–µ—Ä–∞—Ü–∏—è, –∑–∞–∫–∞–∑ –∏ –∞—Ä—Ç–∏–∫—É–ª.
      –£–¥–∞–ª–µ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–∞—Ä–∞–Ω—Ç–∏–Ω–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏.
    </p>
  </div>
  
  <!-- –í—ã–±–æ—Ä –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ -->
  <div style="background: #f9fafb; padding: 16px; border-radius: 12px; margin-bottom: 20px; border: 1px solid #d1d5db;">
    <h3 style="margin: 0 0 12px 0; color: #374151;">üìÖ –ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞</h3>
    
    <!-- –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –¥–∞—Ç -->
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">
      <div>
        <label style="display: block; margin-bottom: 4px; font-size: 12px; color: #6b7280;">üìÖ –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:</label>
        <input type="date" id="duplicatesStartDate" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
      </div>
      <div>
        <label style="display: block; margin-bottom: 4px; font-size: 12px; color: #6b7280;">üìÖ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
        <input type="date" id="duplicatesEndDate" style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 6px;">
      </div>
    </div>
  </div>
  
  <!-- –î–µ–π—Å—Ç–≤–∏—è -->
  <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 24px;">
    <button onclick="analyzeDuplicatesInTab()" id="analyzeDuplicatesTabBtn" style="background:#ff6b35; flex: 1; min-width: 200px;">
      üîç –ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
    </button>
    <button onclick="runDeduplicateInTab()" id="runDeduplicateTabBtn" style="background:#dc2626; flex: 1; min-width: 200px;">
      üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã
    </button>
  </div>
  
  <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
  <div style="display: flex; flex-wrap: wrap; gap: 12px; margin-bottom: 24px;">
    <button onclick="viewQuarantine()" id="viewQuarantineBtn" style="background:#8b5cf6; flex: 1; min-width: 200px;">
      üì¶ –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä–∞–Ω—Ç–∏–Ω–∞
    </button>
    <button onclick="viewDeduplicationLog()" id="viewLogBtn" style="background:#059669; flex: 1; min-width: 200px;">
      üìã –ñ—É—Ä–Ω–∞–ª –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏
    </button>
  </div>
  
  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ -->
  <div id="duplicatesAnalysisResults" style="background: #fef2f2; padding: 16px; border-radius: 12px; margin-bottom: 20px; display: none;"></div>
  
  <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–¥–∞–ª–µ–Ω–∏—è -->
  <div id="deduplicationResults" style="background: #f0fdf4; padding: 16px; border-radius: 12px; margin-bottom: 20px; display: none;"></div>
  
  <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ä–∞–Ω—Ç–∏–Ω–∞ -->
  <div id="quarantineResults" style="background: #fef3c7; padding: 16px; border-radius: 12px; margin-bottom: 20px; display: none;"></div>
  
  <!-- –ñ—É—Ä–Ω–∞–ª –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ -->
  <div id="logResults" style="background: #f0f9ff; padding: 16px; border-radius: 12px; margin-bottom: 20px; display: none;"></div>
  
  <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
  <div id="duplicatesLoader" style="display: none; text-align: center; padding: 40px;">
    <div style="font-size: 24px;">‚è≥</div>
    <div style="margin-top: 10px;">–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–ø—Ä–æ—Å...</div>
  </div>
  
  <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
  <div id="duplicatesStats" style="background: #f8fafc; padding: 16px; border-radius: 12px; margin-top: 20px; display: none;">
    <h3 style="margin: 0 0 12px 0; color: #374151;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px;">
      <div style="text-align: center;">
        <div style="font-size: 24px; font-weight: bold; color: #3b82f6;" id="totalRecords">-</div>
        <div style="font-size: 12px; color: #6b7280;">–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π</div>
      </div>
      <div style="text-align: center;">
        <div style="font-size: 24px; font-weight: bold; color: #dc2626;" id="duplicatesFound">-</div>
        <div style="font-size: 12px; color: #6b7280;">–ù–∞–π–¥–µ–Ω–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤</div>
      </div>
      <div style="text-align: center;">
        <div style="font-size: 24px; font-weight: bold; color: #059669;" id="duplicatesRemoved">-</div>
        <div style="font-size: 12px; color: #6b7280;">–£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤</div>
      </div>
      <div style="text-align: center;">
        <div style="font-size: 24px; font-weight: bold; color: #7c3aed;" id="quarantineCount">-</div>
        <div style="font-size: 12px; color: #6b7280;">–í –∫–∞—Ä–∞–Ω—Ç–∏–Ω–µ</div>
      </div>
    </div>
  </div>
</div>

<!-- üíµ –ú–æ—è –∑–∞—Ä–ø–ª–∞—Ç–∞ ‚Äî –ø–µ—Ä–µ–º–µ—â—ë–Ω –í–ù–ï adminContainer -->
<div class="container" style="display:none;" id="mySalaryContainer">
  <h2>üíµ –ú–æ—è –∑–∞—Ä–ø–ª–∞—Ç–∞</h2>
  <button id="closeMySalaryBtn" onclick="closeMySalary()" style="margin-bottom: 10px; display: none;">‚ùå –ó–∞–∫—Ä—ã—Ç—å –º–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
  <label>üìÖ –ü–µ—Ä–∏–æ–¥ —Å:
    <input type="date" id="salaryStart">
  </label>
  <label style="margin-left:10px;">–ø–æ:
    <input type="date" id="salaryEnd">
  </label>
  <button id="mySalaryBtn" onclick="loadMySalary()">üìä –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
  <div style="overflow-x: auto;">
  <div id="mySalaryOutput" style="margin-top:20px;"></div>
  </div>
<p id="totalQty" style="text-align:center; font-weight:bold; margin-top:16px;"></p>
</div>
<div class="container" style="display:none;" id="costAnalysisContainer">
  <h2>üìä –ê–Ω–∞–ª–∏–∑ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ø–æ –æ–±—ä—ë–º–∞–º</h2>
  <button onclick="switchTab('admin')" style="margin-bottom: 10px; background:#6b7280;">‚Üê –ù–∞–∑–∞–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
  
  <div class="form-row">
    <div class="form-item">
      <label>üìÖ –ü–µ—Ä–∏–æ–¥ —Å:
        <input type="date" id="costStartDate">
      </label>
    </div>
    <div class="form-item">
      <label>üìÖ –ø–æ:
        <input type="date" id="costEndDate">
      </label>
    </div>
  </div>

  <div class="form-row">
    <button id="calculateCostBtn" onclick="calculateCostAnalysis()">üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å - –§–û–¢</button>
    <button id="calculateCostWithMaterialsBtn" onclick="calculateCostAnalysisWithMaterials()">üßÆ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å - –§–û–¢ + –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</button>
  </div>
  
  <div class="form-row" style="margin-top: 12px;">
    <button id="calculateCostForSetsFotBtn" onclick="calculateCostAnalysisForSetsFotOnly()" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); width: 100%;">üì¶ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞–±–æ—Ä–æ–≤ - –§–û–¢</button>
  </div>
  
  <div class="form-row" style="margin-top: 8px;">
    <button id="calculateCostForSetsBtn" onclick="calculateCostAnalysisForSets()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); width: 100%;">üì¶ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å –Ω–∞–±–æ—Ä–æ–≤ - –§–û–¢ + –ú–∞—Ç–µ—Ä–∏–∞–ª—ã</button>
  </div>

  <div class="form-row" style="margin-top: 16px;">
    <button onclick="saveReportToServer()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin-bottom: 8px;">üíæ –í—ã–≥—Ä—É–∑–∏—Ç—å –æ—Ç—á–µ—Ç —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä</button>
  </div>

  <div id="costResults" style="margin-top: 20px;"></div>
</div>
<script src="js/notifications.js"></script>
<script src="js/stats-cache.js?v=3"></script>
<script src="js/dictionaries.js?v=3"></script>
<script src="js/admin-settings.js?v=7"></script>
<script src="js/admin-bulk-update.js?v=1"></script>
<script src="js/profile-settings.js?v=3"></script>
<script src="js/salary-export.js"></script>
<script src="js/senior-shift.js"></script>
<script src="js/mentorship-basic.js"></script>
<script src="js/mentorship-analytics.js"></script>
<script src="js/mentorship-cleanup.js"></script>
<script src="js/normatives-analysis.js"></script>
<script src="js/edit-record.js"></script>
<script src="js/my-salary.js"></script>
<script src="js/duplicates-fixed.js"></script>
<script src="js/duplicates-advanced.js"></script>
<script src="js/ui-management.js"></script>
<script src="js/rates-table.js"></script>
<script src="js/form-confirmation.js"></script>
<script src="js/main-form.js"></script>
<script src="js/bonus-and-reports.js?v=2"></script>
<script src="js/cost-analysis.js"></script>
<script src="js/auth-and-tabs.js?v=3"></script>
<script src="js/bootstrap.js"></script>
<div id="editModal" style="display:none; position:fixed; top:10%; left:0; right:0; margin:auto; max-width:500px; background:white; padding:20px; border-radius:10px; box-shadow:0 2px 12px rgba(0,0,0,0.3); z-index:1000;">
  <h3>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å</h3>
  <form id="editForm">
  <input type="hidden" name="rowIndex" />
  <input type="hidden" name="employeeName" />
  <input type="hidden" name="orderNumber" />
  <input type="hidden" name="employeeStatus" />
  <input type="hidden" name="duration" />

  <!-- üåô –î–µ–ª–∞–µ–º —Ç–∏–ø —Å–º–µ–Ω—ã –≤–∏–¥–∏–º—ã–º –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
  <label>–¢–∏–ø —Å–º–µ–Ω—ã:
    <select name="shiftType" id="editShiftType" onchange="toggleEditNightShiftBlock()" required>
      <option value="–î–µ–Ω—å">–î–µ–Ω—å</option>
      <option value="–ù–æ—á—å">–ù–æ—á—å</option>
    </select>
  </label>

  <label>–û–ø–µ—Ä–∞—Ü–∏—è:
    <select name="operationType" id="editOperation" required></select>
  </label>

  <label id="editVolumeLabel">–û–±—ä—ë–º:
    <select name="volume" id="editVolumeSelect"></select>
  </label>

  <div id="editSetNumberField" style="display:none;">
    <label>–ê—Ä—Ç–∏–∫—É–ª –Ω–∞–±–æ—Ä–∞:
      <select name="setNumber" id="editSetNumberSelect"></select>
    </label>
  </div>

  <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:<input name="quantity" type="number" required /></label>
  <label>–ù–∞—á–∞–ª–æ:<input name="startTime" type="time" required /></label>
  <label>–û–∫–æ–Ω—á–∞–Ω–∏–µ:<input name="endTime" type="time" required /></label>

  <!-- üåô –ë–õ–û–ö –î–õ–Ø –ù–û–ß–ù–´–• –°–ú–ï–ù –í –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ò -->
  <div id="editNightShiftDateBlock" style="display:none; margin-top: 12px;">
    <label>üìÖ –î–∞—Ç–∞ –Ω–æ—á–Ω–æ–π —Å–º–µ–Ω—ã:
      <input type="date" name="nightShiftDate" id="editNightShiftDate" style="font-size: 15px;" />
    </label>
    <small style="color:#6b7280; font-size:11px; margin-top:4px; display:block;">
      ‚ÑπÔ∏è –î–∞—Ç–∞, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –Ω–æ—á–Ω–∞—è —Å–º–µ–Ω–∞
    </small>
  </div>

  <button type="button" onclick="submitEditForm()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  <button type="button" onclick="closeEditModal()" class="danger">‚ùå –û—Ç–º–µ–Ω–∞</button>
</form>
</div>
<div id="salaryExportModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.18); z-index:2000; align-items:center; justify-content:center;">
  <div style="background:white; max-width:420px; margin:60px auto; border-radius:14px; box-shadow:0 4px 24px rgba(0,0,0,.15); padding:28px; position:relative;">
    <h3 style="margin-top:0;">üíµ –í—ã–≥—Ä—É–∑–∫–∞ –∑–∞—Ä–ø–ª–∞—Ç—ã</h3>
    <label>–ü–µ—Ä–∏–æ–¥ —Å: <input type="date" id="salaryExportStart" /></label><br>
    <label>–ø–æ: <input type="date" id="salaryExportEnd" /></label><br>
    
    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–∏–ø–∞ –≤—ã–≥—Ä—É–∑–∫–∏ -->
    <label style="margin-top:16px; display:block;">–¢–∏–ø –≤—ã–≥—Ä—É–∑–∫–∏:</label>
    <div id="exportTypeSelector" style="display: flex; gap: 10px; margin-top: 8px;">
        <style>
            #exportTypeSelector label { display: block; padding: 10px; border: 1px solid #d1d5db; border-radius: 8px; cursor: pointer; flex-grow: 1; text-align: center; transition: all 0.2s ease-in-out; }
            #exportTypeSelector input[type="radio"] { display: none; }
            #exportTypeSelector input[type="radio"]:checked + label { background-color: #e0e7ff; border-color: #4f46e5; color: #4f46e5; font-weight: 600; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        </style>
        <input type="radio" id="exportTypePackers" name="exportType" value="packers" checked onchange="toggleEmployeeExportSelector()">
        <label for="exportTypePackers">üì¶ –£–ø–∞–∫–æ–≤—â–∏–∫–∏</label>
        <input type="radio" id="exportTypeSeniors" name="exportType" value="seniors" onchange="toggleEmployeeExportSelector()">
        <label for="exportTypeSeniors">üë®‚Äçüíº –°—Ç–∞—Ä—à–∏–µ —Å–º–µ–Ω</label>
    </div>

    <!-- –°–µ–ª–µ–∫—Ç–æ—Ä —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è —É–ø–∞–∫–æ–≤—â–∏–∫–æ–≤ -->
    <div id="packersExportSelector" style="margin-top:16px;">
        <label>–°–æ—Ç—Ä—É–¥–Ω–∏–∫:
          <select id="salaryExportEmployee" style="width:100%;margin-top:7px;">
            <option value="">-- –í—Å–µ --</option>
          </select>
        </label>
    </div>

    <!-- –°–µ–ª–µ–∫—Ç–æ—Ä —Å—Ç–∞—Ä—à–∏—Ö —Å–º–µ–Ω -->
    <div id="seniorsExportSelector" style="margin-top:16px; display:none;">
        <label>–°—Ç–∞—Ä—à–∏–π —Å–º–µ–Ω—ã:
          <select id="salaryExportSenior" style="width:100%;margin-top:7px;">
            <option value="">-- –í—Å–µ --</option>
          </select>
        </label>
    </div>

    <div style="margin-top:18px;display:flex;gap:10px;flex-wrap:wrap;">
      <button onclick="sendSalaryReportToEmail()" id="sendSalaryEmailBtn" style="flex:1;min-width:120px;background:#3b82f6;">üìß –û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—á—Ç—É</button>
      <button onclick="closeSalaryExportModal()" style="flex:1;min-width:100px;background:#6b7280;">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
    <div id="salaryExportResult" style="margin-top:16px; font-weight:500; text-align:center;"></div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö -->
<div id="updateAllModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.18); z-index:2000; align-items:center; justify-content:center;">
  <div style="background:white; max-width:500px; margin:60px auto; border-radius:14px; box-shadow:0 4px 24px rgba(0,0,0,.15); padding:28px; position:relative;">
    <h3 style="margin-top:0;">üîÑ –í—ã–±–æ—Ä–æ—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</h3>
    <p style="color:#000000; font-size:14px; margin-bottom:20px;">
      –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è, —Ç–æ–ª—å–∫–æ –∑–∞–º–µ–Ω—è—é—Ç—Å—è/–¥–æ–ø–æ–ª–Ω—è—é—Ç—Å—è.
    </p>
    
    <label>–ü–µ—Ä–∏–æ–¥ —Å: <input type="date" id="updateAllStart" /></label><br>
    <label>–ø–æ: <input type="date" id="updateAllEnd" /></label><br>
    
    <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è -->
    <div style="margin-top:20px; border:1px solid #e5e7eb; border-radius:8px; padding:16px; background:#f9fafb;">
              <h4 style="margin:0 0 12px 0; font-size:16px; color:#000000;">–ß—Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å:</h4>
      
      <div style="display:flex; flex-direction:column; gap:12px;">
        <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px; transition:background 0.2s;" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
          <input type="checkbox" id="updateSeniorsSalary" checked style="width:16px; height:16px;">
          <div>
            <strong>üë®‚Äçüíº –ó–∞—Ä–ø–ª–∞—Ç—ã —Å—Ç–∞—Ä—à–∏—Ö —Å–º–µ–Ω</strong>
            <div style="font-size:12px; color:#000000;">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç —Å—Ç–∞—Ä—à–∏—Ö —Å–º–µ–Ω –∑–∞ –ø–µ—Ä–∏–æ–¥</div>
          </div>
        </label>
        
        <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px; transition:background 0.2s;" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
          <input type="checkbox" id="updateStaffIndicators" checked style="width:16px; height:16px;">
          <div>
            <strong>üìä –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —à—Ç–∞—Ç–Ω—ã—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</strong>
            <div style="font-size:12px; color:#000000;">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –Ω–æ—Ä–º —à—Ç–∞—Ç–∞</div>
          </div>
        </label>
        
        <label style="display:flex; align-items:center; gap:8px; cursor:pointer; padding:8px; border-radius:6px; transition:background 0.2s;" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">
          <input type="checkbox" id="updateOutsourcingIndicators" checked style="width:16px; height:16px;">
          <div>
            <strong>üè¢ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∞—É—Ç—Å–æ—Ä—Å–∏–Ω–≥–∞</strong>
            <div style="font-size:12px; color:#000000;">–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤</div>
          </div>
        </label>
      </div>
      
      <!-- –ö–Ω–æ–ø–∫–∏ –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞ -->
      <div style="margin-top:16px; display:flex; gap:8px; border-top:1px solid #e5e7eb; padding-top:12px;">
        <button type="button" onclick="selectAllUpdates()" style="flex:1; background:#e5e7eb; color:#000000; border:none; padding:6px 12px; border-radius:4px; font-size:12px; cursor:pointer;">‚úÖ –í—Å–µ</button>
        <button type="button" onclick="selectNoneUpdates()" style="flex:1; background:#e5e7eb; color:#000000; border:none; padding:6px 12px; border-radius:4px; font-size:12px; cursor:pointer;">‚ùå –ù–∏—á–µ–≥–æ</button>
        <button type="button" onclick="selectOnlySeniors()" style="flex:1; background:#e5e7eb; color:#000000; border:none; padding:6px 12px; border-radius:4px; font-size:12px; cursor:pointer;">üë®‚Äçüíº –¢–æ–ª—å–∫–æ —Å—Ç–∞—Ä—à–∏–µ</button>
      </div>
    </div>
    
    <div style="margin-top:18px;display:flex;gap:10px;">
      <button onclick="submitSelectiveUpdate()" id="submitUpdateAllBtn" style="flex:1; background:#8b5cf6;">üîÑ –û–±–Ω–æ–≤–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ</button>
      <button onclick="closeUpdateAllModal()" style="flex:1;background:#ef4444;">‚ùå –û—Ç–º–µ–Ω–∞</button>
    </div>
    <div id="updateAllResult" style="margin-top:16px; font-weight:500; text-align:center; white-space:pre-line;"></div>
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ—Ä–º—ã -->
<div id="editNormModal" style="display:none; position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.18); z-index:2000; align-items:center; justify-content:center;">
  <div style="background:white; max-width:600px; margin:60px auto; border-radius:14px; box-shadow:0 4px 24px rgba(0,0,0,.15); padding:28px; position:relative;">
    <h3 style="margin-top:0; text-align:center; color:#f59e0b;">üîç –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ—Ä–º—ã</h3>
    
    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
    <div style="background:#f8fafc; padding:16px; border-radius:12px; margin-bottom:20px;">
      <div style="margin-bottom:12px;"><strong>üìã –û–ø–µ—Ä–∞—Ü–∏—è:</strong> <span id="editNormOperation">-</span></div>
      <div style="margin-bottom:12px;"><strong>üì¶ –û–±—ä–µ–º/–ö–ª—é—á:</strong> <span id="editNormKey">-</span></div>
      <div style="margin-bottom:12px;"><strong>‚è±Ô∏è –¢–µ–∫—É—â–∞—è –Ω–æ—Ä–º–∞:</strong> <span id="editNormCurrent">-</span> —à—Ç/—á–∞—Å</div>
      <div style="margin-bottom:12px;"><strong>üìä –°—Ä–µ–¥–Ω—è—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:</strong> <span id="editNormEfficiency">-</span>%</div>
      <div><strong>üéØ –°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å:</strong> <span id="editNormSpeed">-</span> —à—Ç/—á–∞—Å</div>
    </div>
    
    <!-- –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è -->
    <div id="editNormAnalysis" style="background:#fef3c7; padding:16px; border-radius:12px; margin-bottom:20px; border-left:4px solid #f59e0b;">
      <h4 style="margin:0 0 8px 0; color:#92400e;">üí° –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:</h4>
      <div id="editNormRecommendation" style="color:#451a03;">-</div>
    </div>
    
    <!-- –ü–æ–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
    <div style="margin-bottom:20px;">
      <label style="display:block; margin-bottom:8px; font-weight:600;">üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –Ω–æ—Ä–º–∞:</label>
      <input type="number" id="editNormRecommended" readonly style="background:#f3f4f6; margin-bottom:16px;" placeholder="0">
      
      <label style="display:block; margin-bottom:8px; font-weight:600;">‚úèÔ∏è –ù–æ–≤–∞—è –Ω–æ—Ä–º–∞ (—à—Ç/—á–∞—Å):</label>
      <input type="number" id="editNormNew" min="1" step="1" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –Ω–æ—Ä–º—É...">
    </div>
    
    <!-- –ö–Ω–æ–ø–∫–∏ -->
    <div style="display:flex; gap:12px;">
      <button onclick="saveNormChange()" id="saveNormBtn" style="flex:1; background:#10b981;">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
      <button onclick="closeEditNormModal()" style="flex:1; background:#ef4444;">‚ùå –û—Ç–º–µ–Ω–∞</button>
    </div>
    
    <div id="editNormResult" style="margin-top:16px; font-weight:500; text-align:center;"></div>
  </div>
</div>

<!-- üë®‚Äçüéì –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–∂–µ—Ä–∞–º–∏ -->
<div class="container" style="display:none;" id="traineeManagementContainer">
  <h2>üë®‚Äçüéì –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–∂–µ—Ä–∞–º–∏</h2>
  <button onclick="hideTraineeManagement()" style="margin-bottom: 10px; background:#6b7280;">‚Üê –ù–∞–∑–∞–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</button>
  
  <!-- üìã –¢–µ–∫—É—â–∏–µ —Å–≤—è–∑–∏ -->
  <h3>üìã –¢–µ–∫—É—â–∏–µ —Å–≤—è–∑–∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ ‚Üî —Å—Ç–∞–∂–µ—Ä</h3>
  <button onclick="loadMentorshipPairs()" id="refreshPairsBtn" style="background:#3b82f6; margin-bottom: 10px;">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–≤—è–∑–µ–π</button>
  <div style="overflow-x: auto;">
    <div id="mentorshipPairsList" style="margin-top: 16px;">
      <p style="color: #6b7280; text-align: center;">–ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–≤—è–∑–µ–π" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏</p>
    </div>
  </div>
  
  <!-- ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–≤—è–∑–∏ -->
  <h3 style="margin-top: 30px;">‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–≤—è–∑–∏</h3>
  <label>üë®‚Äçüíº –í—ã–±–µ—Ä–∏—Ç–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞:
    <select id="mentorSelect" required>
      <option value="">-- –ó–∞–≥—Ä—É–∑–∫–∞... --</option>
    </select>
  </label>
  <label>üë®‚Äçüéì –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞–∂–µ—Ä–∞:
    <select id="traineeSelect" required>
      <option value="">-- –ó–∞–≥—Ä—É–∑–∫–∞... --</option>
    </select>
  </label>
  
  <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–æ–Ω—É—Å–µ -->
  <div style="background: #f0f9ff; border: 1px solid #3b82f6; border-radius: 8px; padding: 12px; margin: 16px 0;">
    <strong style="color: #1e40af;">üí∞ –ë–æ–Ω—É—Å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞:</strong>
    <span style="color: #1f2937;">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±–æ–Ω—É—Å 1750 ‚ÇΩ –∑–∞ —Å–º–µ–Ω—É –∑–∞ –∫–∞–∂–¥–æ–≥–æ —Å—Ç–∞–∂–µ—Ä–∞</span>
  </div>
  
  <button onclick="createMentorshipPair()" id="createPairBtn" style="background:#10b981;">‚úÖ –°–æ–∑–¥–∞—Ç—å —Å–≤—è–∑—å</button>
  <button onclick="loadMentorsAndTrainees()" style="background:#6b7280; margin-left: 10px;">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏</button>
  
  <!-- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä -->
  <h3 style="margin-top: 30px;">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø–∞—Ä</h3>
  <label>üìÖ –ü–µ—Ä–∏–æ–¥ —Å:
    <input type="date" id="analyticsStartDate">
  </label>
  <label style="margin-left:10px;">–ø–æ:
    <input type="date" id="analyticsEndDate">
  </label>
  <button onclick="loadTraineeAnalytics()" id="loadAnalyticsBtn" style="background:#8b5cf6;">üìä –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É</button>
  <div style="overflow-x: auto;">
    <div id="traineeAnalyticsResults" style="margin-top: 20px;">
      <p style="color: #6b7280; text-align: center;">–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–∏–æ–¥ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É"</p>
    </div>
  </div>
  
  <!-- üßπ –û—á–∏—Å—Ç–∫–∞ —Å–≤—è–∑–µ–π -->
  <h3 style="margin-top: 30px;">üßπ –û—á–∏—Å—Ç–∫–∞ —Å–≤—è–∑–µ–π –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–∞</h3>
  <div style="background: #fef3c7; border: 1px solid #f59e0b; border-radius: 8px; padding: 12px; margin-bottom: 16px;">
    <strong style="color: #92400e;">‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ!</strong>
    <span style="color: #92400e; font-size: 14px;">
      –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —É–¥–∞–ª–∏—Ç –í–°–ï —Å–≤—è–∑–∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏—á–µ—Å—Ç–≤–∞. –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–æ–±—Ä–∞—Ç–∏–º–∞.
      –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é: –¥–Ω–µ–≤–Ω–∞—è —Å–º–µ–Ω–∞ –≤ 23:00, –Ω–æ—á–Ω–∞—è –≤ 11:00.
    </span>
  </div>
  <button onclick="cleanupAllMentorshipPairs(false)" id="previewCleanupBtn" style="background:#3b82f6;">üîç –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä</button>
  <button onclick="cleanupAllMentorshipPairs(true)" id="executeCleanupBtn" style="background:#ef4444; margin-left: 10px;">üßπ –í—ã–ø–æ–ª–Ω–∏—Ç—å –æ—á–∏—Å—Ç–∫—É</button>
  <div style="overflow-x: auto;">
    <div id="cleanupResults" style="margin-top: 16px; display: none;"></div>
  </div>
</div>



<script src="js/loading-screen.js"></script>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö -->
<div id="confirmModal">
  <div class="modal-content">
    <div class="modal-header">
      ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏
    </div>
    <div class="modal-body">
      –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ?
      <div class="modal-summary" id="confirmSummary">
        <!-- –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ –¥–∞–Ω–Ω—ã—Ö -->
      </div>
    </div>
    <div class="modal-buttons">
      <button class="btn-cancel" onclick="closeConfirmModal()">‚ùå –û—Ç–º–µ–Ω–∞</button>
      <button class="btn-confirm" onclick="confirmSubmit()">‚úÖ –î–∞, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </div>
</div>

</body>
</html>